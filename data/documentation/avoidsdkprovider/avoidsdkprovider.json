{"primaryContentSections":[{"kind":"content","content":[{"anchor":"Overview","level":2,"type":"heading","text":"Overview"},{"type":"paragraph","inlineContent":[{"type":"text","text":"As part of the Branch Simlification project and the One Device activity,"},{"type":"text","text":" "},{"type":"text","text":"the current method of pairing a banker in CSHUB needs to be changed"},{"type":"text","text":" "},{"type":"text","text":"because the banker will lose the ability to pair on the tablet via QR code from the ntb screen."},{"type":"text","text":" "},{"type":"text","text":"Therefore, a different mechanism for pairing the banker needs to be implemented in CSHUB."},{"type":"text","text":" "},{"type":"text","text":"Based on the AVOID SDK library,"},{"type":"text","text":" "},{"type":"text","text":"the banker’s identity can be transferred to CSHUB"},{"type":"text","text":" "},{"type":"text","text":"via an internal personalized certificate distributed from MDM."},{"type":"text","text":" "},{"type":"text","text":"Authentication takes place in the background without manual intervention by the banker."}]},{"anchor":"Architecture","level":2,"type":"heading","text":"Architecture"},{"type":"paragraph","inlineContent":[{"type":"image","identifier":"CSHUB_AVOID_SDK.png"}]},{"type":"orderedList","items":[{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"The first time you run CSHUB, the application activates the AVOID SDK library."},{"type":"text","text":" "},{"type":"text","text":"The AVOID SDK requests an ADFS “code” release via a personal certificate."}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"The certificate is distributed by standard mechanisms as part of the tablet enrollment from MDM."}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"ADFS will issue a code based on a valid certificate."},{"type":"text","text":" "},{"type":"text","text":"CSHUB sends the code to PARBE via the existing endpoint for getToken0 with the parameters code, HWID, or state ."}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"PARBE provides token0 for CSHUB based on an existing ADFS call with the code parameter. PARBE receives token0 as response and continues working with it according to the current state."}]}]}]}]}],"schemaVersion":{"major":0,"minor":3,"patch":0},"sections":[],"variants":[{"paths":["\/documentation\/avoidsdkprovider\/avoidsdkprovider"],"traits":[{"interfaceLanguage":"swift"}]}],"identifier":{"url":"doc:\/\/AvoidSDKProvider\/documentation\/AvoidSDKProvider\/AvoidSDKProvider","interfaceLanguage":"swift"},"abstract":[{"type":"text","text":"Automatic banker matching when CSHUB is first launched"}],"kind":"article","metadata":{"modules":[{"name":"AvoidSDKProvider"}],"role":"article","title":"AvoidSDKProvider"},"hierarchy":{"paths":[["doc:\/\/AvoidSDKProvider\/documentation\/AvoidSDKProvider"]]},"topicSections":[{"title":"Initializers","identifiers":["doc:\/\/AvoidSDKProvider\/documentation\/AvoidSDKProvider\/AvoidSDKProvider\/init(clientId:redirectUri:environment:)"]},{"title":"Instance Methods","identifiers":["doc:\/\/AvoidSDKProvider\/documentation\/AvoidSDKProvider\/AvoidSDKProvider\/getCode()"]}],"references":{"doc://AvoidSDKProvider/documentation/AvoidSDKProvider":{"role":"collection","title":"AvoidSDKProvider","abstract":[],"identifier":"doc:\/\/AvoidSDKProvider\/documentation\/AvoidSDKProvider","kind":"symbol","type":"topic","url":"\/documentation\/avoidsdkprovider"},"doc://AvoidSDKProvider/documentation/AvoidSDKProvider/AvoidSDKProvider/init(clientId:redirectUri:environment:)":{"role":"symbol","title":"init(clientId:redirectUri:environment:)","fragments":[{"kind":"identifier","text":"init"},{"kind":"text","text":"("},{"kind":"externalParam","text":"clientId"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"String","preciseIdentifier":"s:SS"},{"kind":"text","text":", "},{"kind":"externalParam","text":"redirectUri"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"String","preciseIdentifier":"s:SS"},{"kind":"text","text":", "},{"kind":"externalParam","text":"environment"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"AuthEnvironment","preciseIdentifier":"s:8AvoidSDK15AuthEnvironmentO"},{"kind":"text","text":")"}],"abstract":[],"identifier":"doc:\/\/AvoidSDKProvider\/documentation\/AvoidSDKProvider\/AvoidSDKProvider\/init(clientId:redirectUri:environment:)","kind":"symbol","type":"topic","url":"\/documentation\/avoidsdkprovider\/avoidsdkprovider\/init(clientid:redirecturi:environment:)"},"CSHUB_AVOID_SDK.png":{"alt":"alt text","type":"image","identifier":"CSHUB_AVOID_SDK.png","variants":[{"url":"\/images\/CSHUB_AVOID_SDK.png","traits":["1x","light"]}]},"doc://AvoidSDKProvider/documentation/AvoidSDKProvider/AvoidSDKProvider/getCode()":{"role":"symbol","title":"getCode()","fragments":[{"kind":"keyword","text":"func"},{"kind":"text","text":" "},{"kind":"identifier","text":"getCode"},{"kind":"text","text":"() -> "},{"kind":"typeIdentifier","text":"AnyPublisher","preciseIdentifier":"s:7Combine12AnyPublisherV"},{"kind":"text","text":"<"},{"kind":"typeIdentifier","text":"String","preciseIdentifier":"s:SS"},{"kind":"text","text":", "},{"kind":"typeIdentifier","text":"AvoidSDKError","preciseIdentifier":"s:16AvoidSDKProvider0A8SDKErrorO"},{"kind":"text","text":">"}],"abstract":[{"type":"text","text":"Function that starts loading a code"}],"identifier":"doc:\/\/AvoidSDKProvider\/documentation\/AvoidSDKProvider\/AvoidSDKProvider\/getCode()","kind":"symbol","type":"topic","url":"\/documentation\/avoidsdkprovider\/avoidsdkprovider\/getcode()"}}}